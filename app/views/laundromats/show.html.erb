<div class="laundromat-show-container">
  <!-- Main Content Column -->
  <div class="main-content">
    <!-- Header Section -->
    <div class="laundromat-header">
      <h1 class="laundromat-title"><%= @laundromat.name %></h1>
      <div class="laundromat-info">
        <div class="info-item address-item"><%= @laundromat.address %></div>
        <div class="info-item phone-item"><%= @laundromat.phone_number %></div>
      </div>
    </div>

    <!-- Photo Gallery -->
    <% if @laundromat.photos.any? %>
      <div class="photo-gallery">
        <div class="photo-grid">
          <% @laundromat.photos.each do |photo| %>
            <%= cl_image_tag photo.key, height: 300, width: 400, crop: :fill, class: "laundromat-photo" %>
          <% end %>
        </div>
      </div>
    <% end %>

    <!-- Orders Section -->
    <% if @orders.exists? %>
      <div class="orders-section">
        <h3 class="orders-title">Your Orders</h3>
        <ul class="orders-list">
          <% @orders.each do |order| %>
            <li class="order-item">
              <%= link_to order.created_at.strftime("%a %b %e"), order, class: "order-link" %>
            </li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <!-- Reviews Section -->
    <div class="reviews-section">
      <h2 class="section-title">Reviews</h2>
      <ul class="reviews-list">
        <% @laundromat.reviews.each do |review| %>
          <li class="review-item">
            <div class="review-rating"><%= review.rating %>‚≠ê</div>
            <div class="review-content"><%= review.content %></div>
          </li>
        <% end %>
      </ul>

      <!-- Review Form -->
      <div class="review-form">
        <h3 class="review-form-title">Leave a Review</h3>
        <%= simple_form_for [@laundromat, @review] do |f| %>
          <div class="form-group">
            <%= f.input :content, input_html: { class: "form-control" }, label_html: { class: "form-label" } %>
          </div>
          <div class="form-group">
            <%= f.input :rating, collection: (1..5).to_a,
                input_html: { class: "star-rating", data: { controller: "star-rating" } },
                label: "Rate your experience", label_html: { class: "form-label" } %>
          </div>
          <%= f.submit "Submit Review", class: "btn btn-primary" %>
        <% end %>
      </div>
    </div>

    <!-- Action Links -->
    <div class="action-links">
      <%= link_to "Back to all laundromats", laundromats_path, class: "action-link link-back" %>
      <%= link_to "Delete laundromat", laundromat_path(@laundromat),
                  data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
                  class: "action-link link-delete" %>
    </div>
  </div>

  <!-- Booking Sidebar -->
  <div class="booking-sidebar">
    <h2 class="booking-title">Book <%= @laundromat.name %></h2>

    <div class="booking-form">
      <%= simple_form_for [@laundromat, @order] do |f| %>
        <div class="form-group">
          <%= f.input :pickup_time, input_html: { class: "form-control" }, label_html: { class: "form-label" } %>
        </div>
      <% end %>
    </div>

    <%= link_to "Book Now", new_laundromat_order_path(@laundromat), class: "btn btn-success" %>
  </div>
</div>
